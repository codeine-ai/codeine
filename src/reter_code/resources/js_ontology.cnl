% JavaScript/TypeScript Language Ontology - CNL Format
% Extends oo_ontology.cnl with JavaScript/TypeScript-specific concepts
%
% This ontology maps JS/TS-specific concepts to the generic OO ontology.
% All JS/TS entities should use the unified CNL names with language="javascript".

% ============================================================================
% JavaScript-Specific Entity Types
% ============================================================================

% Module types
Every javascript-module is a module.
Every es-module is a javascript-module.
Every commonjs-module is a javascript-module.

% Namespace (TypeScript)
Every javascript-namespace is a namespace.
Every typescript-module is a javascript-namespace.

% Type definitions
Every javascript-class is a class.
Every javascript-interface is an interface.
Every javascript-enum is an enum.
Every javascript-type-alias is a type-alias.

% Members
Every javascript-method is a method.
Every javascript-function is a function.
Every javascript-constructor is a constructor.
Every javascript-field is a field.
Every javascript-property is a property.
Every javascript-getter is a javascript-property.
Every javascript-setter is a javascript-property.

% Functions
Every javascript-arrow-function is an arrow-function.
Every javascript-generator is a function.
Every javascript-async-function is a function.

% Parameters
Every javascript-parameter is a parameter.
Every javascript-rest-parameter is a javascript-parameter.
Every javascript-optional-parameter is a javascript-parameter.
Every javascript-default-parameter is a javascript-parameter.

% Import/Export
Every javascript-import is an import.
Every javascript-export is an export.
Every javascript-default-export is a javascript-export.
Every javascript-named-export is a javascript-export.
Every javascript-reexport is a javascript-export.

% Exception handling
Every javascript-try-block is a try-block.
Every javascript-catch-clause is a catch-clause.
Every javascript-finally-clause is a finally-clause.
Every javascript-throw-statement is a throw-statement.

% Control flow
Every javascript-return-statement is a return-statement.

% Other
Every javascript-variable is a variable.
Every javascript-reference is a reference.
Every javascript-assignment is an assignment.
Every javascript-enum-member is an enum-member.

% ============================================================================
% TypeScript-Specific Concepts
% ============================================================================

% Type system
Every typescript-interface is a javascript-interface.
Every typescript-type-alias is a javascript-type-alias.
Every typescript-enum is a javascript-enum.
Every typescript-const-enum is a typescript-enum.

% Decorators
Every typescript-decorator is an attribute.
Every class-decorator is a typescript-decorator.
Every method-decorator is a typescript-decorator.
Every property-decorator is a typescript-decorator.
Every parameter-decorator is a typescript-decorator.

% Access modifiers (TypeScript)
Every public-member is a member.
Every private-member is a member.
Every protected-member is a member.
Every readonly-member is a member.

% ============================================================================
% JavaScript-Specific Patterns
% ============================================================================

% Classes
Every es6-class is a javascript-class.
Every prototype-based-class is a javascript-class.

% Functions
Every iife is a function.
Every callback is a function.
Every promise-handler is a function.

% Async patterns
Every async-function is a javascript-function.
Every await-expression is an expression.
Every promise-based-function is a function.

% ============================================================================
% JavaScript Exception Handling Patterns
% ============================================================================

% Empty catch
Every empty-catch is a catch-clause.

% Catch-all
Every catch-all is a catch-clause.

% ============================================================================
% JavaScript Code Smells
% ============================================================================

% Callback hell
Every deeply-nested-callback is a function.

% God class
Every javascript-god-class is a god-class.

% Long function
Every javascript-long-function is a long-method.

% Global pollution
Every global-variable is a variable.
Every implicit-global is a global-variable.

% == vs ===
Every loose-equality-usage is an expression.
